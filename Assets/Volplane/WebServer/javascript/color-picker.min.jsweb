/*!
 * ==========================================================
 *  COLOR PICKER PLUGIN 1.3.3
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(e,t){function c(e){return"undefined"!=typeof e}function a(e){return"string"==typeof e}function l(e){return"object"==typeof e}function h(e){return Object.keys(e).length}function p(e,t,n){return t>e?t:e>n?n:e}function v(e,t){return parseInt(e,t||10)}function d(e){return Math.round(e)}function g(e){var i,f,o,u,s,c,a,l,t=+e[0],n=+e[1],r=+e[2];switch(u=Math.floor(6*t),s=6*t-u,c=r*(1-n),a=r*(1-s*n),l=r*(1-(1-s)*n),u=u||0,a=a||0,l=l||0,u%6){case 0:i=r,f=l,o=c;break;case 1:i=a,f=r,o=c;break;case 2:i=c,f=r,o=l;break;case 3:i=c,f=a,o=r;break;case 4:i=l,f=c,o=r;break;case 5:i=r,f=c,o=a}return[d(255*i),d(255*f),d(255*o)]}function y(e){return b(g(e))}function x(e){var u,t=+e[0],n=+e[1],r=+e[2],i=Math.max(t,n,r),f=Math.min(t,n,r),o=i-f,s=0===i?0:o/i,c=i/255;switch(i){case f:u=0;break;case t:u=n-r+o*(r>n?6:0),u/=6*o;break;case n:u=r-t+2*o,u/=6*o;break;case r:u=t-n+4*o,u/=6*o}return[u,s,c]}function b(e){var t=+e[2]|+e[1]<<8|+e[0]<<16;return t="000000"+t.toString(16),t.slice(-6)}function m(e){return x(H(e))}function H(e){return 3===e.length&&(e=e.replace(/./g,"$&$&")),[v(e[0]+e[1],16),v(e[2]+e[3],16),v(e[4]+e[5],16)]}function k(e){return[+e[0]/360,+e[1]/100,+e[2]/100]}function w(e){return[d(360*+e[0]),d(100*+e[1]),d(100*+e[2])]}function E(e){return[+e[0]/255,+e[1]/255,+e[2]/255]}function C(e){if(l(e))return e;var t=/\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i.exec(e),n=/\s*hsv\s*\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)\s*$/i.exec(e),r="#"===e[0]&&e.match(/^#([\da-f]{3}|[\da-f]{6})$/i);return r?m(e.slice(1)):n?k([+n[1],+n[2],+n[3]]):t?x([+t[1],+t[2],+t[3]]):[0,1,1]}var n="__instance__",r="firstChild",i="scrollLeft",f="scrollTop",o="offsetLeft",u="offsetTop",s=setTimeout;!function(e){e.version="1.3.3",e[n]={},e.each=function(t,r){return s(function(){var i,r=e[n];for(i in r)t(r[i],i,r)},0===r?0:r||1),e},e.parse=C,e._HSV2RGB=g,e._HSV2HEX=y,e._RGB2HSV=x,e._HEX2HSV=m,e._HEX2RGB=function(e){return E(H(e))},e.HSV2RGB=function(e){return g(k(e))},e.HSV2HEX=function(e){return y(k(e))},e.RGB2HSV=function(e){return w(x(e))},e.RGB2HEX=b,e.HEX2HSV=function(e){return w(m(e))},e.HEX2RGB=H}(e.CP=function(v,d){function _(e,t,n){e=e.split(/\s+/);for(var r=0,i=e.length;i>r;++r)t.addEventListener(e[r],n,!1)}function V(e,t,n){e=e.split(/\s+/);for(var r=0,i=e.length;i>r;++r)t.removeEventListener(e[r],n)}function P(e,t){var n=t.touches?t.touches[0].pageX:t.pageX,r=t.touches?t.touches[0].pageY:t.pageY,i=B(e);return{x:n-i.l,y:r-i.t}}function B(t){if(t===e)var n=e.pageXOffset||b[i],r=e.pageYOffset||b[f];else for(var n=t[o],r=t[u];t=t.offsetParent;)n+=t[o],r+=t[u];return{l:n,t:r}}function G(e,t){for(;(e=e.parentElement)&&e!==t;);return e}function R(e){e&&e.preventDefault()}function L(t){return t===e?{w:e.innerWidth,h:e.innerHeight}:{w:t.offsetWidth,h:t.offsetHeight}}function M(e){return H||(c(e)?e:!1)}function $(e){H=e}function T(e,t,n){return c(e)?c(t)?(c(k[e])||(k[e]={}),c(n)||(n=h(k[e])),k[e][n]=t,m):k[e]:k}function O(e,t){return c(e)?c(t)?(delete k[e][t],m):(k[e]={},m):(k={},m)}function Y(e,t,n){if(!c(k[e]))return m;if(c(n))c(k[e][n])&&k[e][n].apply(m,t);else for(var r in k[e])k[e][r].apply(m,t);return m}function ne(e,t){e&&"h"!==e||Y("change:h",t),e&&"sv"!==e||Y("change:sv",t),Y("change",t)}function re(){return w.parentNode}function ie(n,r){function h(e){var t=e.target,n=t===v||G(t,v)===v;n?ie():m.exit(),Y(n?"enter":"exit",[m])}function b(e){var n=(g(W),g([W[0],1,1]));z.style.backgroundColor="rgb("+n.join(",")+")",$(W),R(e)}function H(e){var t=p(P(N,e).y,0,o);W[0]=(o-t)/o,A.style.top=t-c/2+"px",b(e)}function k(e){var t=P(z,e),n=p(t.x,0,u),r=p(t.y,0,s);W[1]=1-(u-n)/u,W[2]=(s-r)/s,D.style.right=u-n-a/2+"px",D.style.top=r-l/2+"px",b(e)}function B(e){F&&(H(e),ee=y(W),I||(Y("drag:h",[ee,m]),Y("drag",[ee,m]),ne("h",[ee,m]))),J&&(k(e),ee=y(W),q||(Y("drag:sv",[ee,m]),Y("drag",[ee,m]),ne("sv",[ee,m]))),I=0,q=0}function T(e){var t=e.target,n=F?"h":"sv",r=[y(W),m],i=t===v||G(t,v)===v,f=t===w||G(t,w)===w;i||f?f&&(Y("stop:"+n,r),Y("stop",r),ne(n,r)):re()&&d!==!1&&(m.exit(),Y("exit",[m]),ne(0,r)),F=0,J=0}function O(e){I=1,F=1,B(e),R(e),Y("start:h",[ee,m]),Y("start",[ee,m]),ne("h",[ee,m])}function j(e){q=1,J=1,B(e),R(e),Y("start:sv",[ee,m]),Y("start",[ee,m]),ne("sv",[ee,m])}n||((r||x).appendChild(w),m.visible=!0),U=L(w).w,Z=L(w).h;var i=L(z),f=L(D),o=L(N).h,u=i.w,s=i.h,c=L(A).h,a=f.w,l=f.h;n?(w.style.left=w.style.top="-9999px",d!==!1&&_(d,v,h),m.create=function(){return ie(1),Y("create",[m]),m},m.destroy=function(){return d!==!1&&V(d,v,h),m.exit(),$(!1),Y("destroy",[m]),m}):fe(),te=function(){W=M(W),b(),A.style.top=o-c/2-o*+W[0]+"px",D.style.right=u-a/2-u*+W[1]+"px",D.style.top=s-l/2-s*+W[2]+"px"},m.exit=function(n){return re()&&(re().removeChild(w),m.visible=!1),V(E,N,O),V(E,z,j),V(C,t,B),V(X,t,T),V(S,e,fe),m},te(),n||(_(E,N,O),_(E,z,j),_(C,t,B),_(X,t,T),_(S,e,fe))}function fe(){return m.fit()}var x=t.body,b=t.documentElement,m=this,H=!1,k={},w=t.createElement("div"),E="touchstart mousedown",C="touchmove mousemove",X="touchend mouseup",S="orientationchange resize";if(!(m instanceof CP))return new CP(v,d);CP[n][v.id||v.name||h(CP[n])]=m,c(d)||(d=E),$(CP.parse(v.getAttribute("data-color")||v.value||[0,1,1])),w.className="color-picker",w.innerHTML='<div class="color-picker-control"><span class="color-picker-h"><i></i></span><span class="color-picker-sv"><i></i></span></div>';var te,j=w[r].children,W=M([0,1,1]),N=j[0],z=j[1],A=N[r],D=z[r],I=0,q=0,F=0,J=0,K=0,Q=0,U=0,Z=0,ee=y(W);return ie(1),s(function(){var e=[y(W),m];Y("create",e),ne(0,e)},0),m.fit=function(t){var n=L(e),r=L(b),i=r.h>n.h,f=B(e),u=(B(b),i?r.w:n.w+f.l),s=i?n.h+f.t:Math.max(r.h,n.h),a=B(v);return K=a.l,Q=a.t+L(v).h,l(t)?(c(t[0])&&(K=t[0]),c(t[1])&&(Q=t[1])):(K+U>u&&(K=u-U),Q+Z>s&&(Q=s-Z)),w.style.left=K+"px",w.style.top=Q+"px",Y("fit",[m]),m},m.set=function(e){return c(e)?(a(e)&&(e=CP.parse(e)),$(e),te(),m):M()},m.target=v,m.picker=w,m.visible=!1,m.on=T,m.off=O,m.trigger=Y,m.hooks=k,m.enter=function(e){return ie(0,e)},m})}(window,document);